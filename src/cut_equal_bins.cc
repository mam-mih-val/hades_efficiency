//
// Created by mikhail on 11/11/20.
//

#include <TFile.h>
#include <TH1D.h>
#include <iostream>

int main(){
  TH1D *slice_py_of_y_cm_pT_2212__1 = new TH1D("slice_py_of_y_cm_pT_2212__1","ProjectionY of binx=[96,105] [x=-0.050..0.050]",200,0,2.5);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(13,2);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(15,3);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(16,23);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(17,156);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(18,540);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(19,994);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(20,1574);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(21,1865);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(22,2085);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(23,2248);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(24,2286);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(25,2401);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(26,2455);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(27,2439);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(28,2543);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(29,2573);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(30,2633);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(31,2601);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(32,2597);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(33,2682);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(34,2657);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(35,2570);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(36,2718);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(37,2608);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(38,2554);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(39,2588);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(40,2690);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(41,2563);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(42,2640);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(43,2455);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(44,2506);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(45,2448);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(46,2359);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(47,2397);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(48,2261);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(49,2262);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(50,2238);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(51,2184);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(52,2029);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(53,1998);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(54,1966);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(55,1884);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(56,1841);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(57,1785);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(58,1703);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(59,1571);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(60,1605);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(61,1549);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(62,1380);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(63,1398);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(64,1312);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(65,1210);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(66,1233);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(67,1167);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(68,1131);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(69,1031);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(70,1014);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(71,951);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(72,920);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(73,857);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(74,836);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(75,755);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(76,743);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(77,687);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(78,661);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(79,631);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(80,607);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(81,592);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(82,549);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(83,489);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(84,423);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(85,447);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(86,424);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(87,372);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(88,355);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(89,301);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(90,306);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(91,296);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(92,266);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(93,240);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(94,220);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(95,212);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(96,203);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(97,180);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(98,195);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(99,166);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(100,135);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(101,163);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(102,138);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(103,111);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(104,115);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(105,109);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(106,73);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(107,96);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(108,68);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(109,70);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(110,68);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(111,77);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(112,58);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(113,54);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(114,48);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(115,42);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(116,50);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(117,35);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(118,40);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(119,38);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(120,28);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(121,41);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(122,27);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(123,31);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(124,18);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(125,17);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(126,24);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(127,24);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(128,17);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(129,19);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(130,14);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(131,13);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(132,14);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(133,15);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(134,12);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(135,12);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(136,8);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(137,11);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(138,8);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(139,11);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(140,7);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(141,9);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(142,13);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(143,6);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(144,7);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(145,7);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(146,3);
  slice_py_of_y_cm_pT_2212__1->SetBinContent(147,2);
  slice_py_of_y_cm_pT_2212__1->SetEntries(124095);
  slice_py_of_y_cm_pT_2212__1->SetDirectory(0);

  auto entries = slice_py_of_y_cm_pT_2212__1->GetEntries();
  int bin_enries=0;
  std::vector<double> new_axis;
  new_axis.push_back( slice_py_of_y_cm_pT_2212__1->GetXaxis()->GetBinLowEdge(1) );
  for( auto i=0; i<=slice_py_of_y_cm_pT_2212__1->GetNbinsX(); ++i ){
    bin_enries+=slice_py_of_y_cm_pT_2212__1->GetBinContent(i);
    if( bin_enries < 0.1*entries )
      continue;
    else{
      new_axis.push_back(slice_py_of_y_cm_pT_2212__1->GetBinCenter(i-1));
      bin_enries=0;
    }
  }
  new_axis.push_back( slice_py_of_y_cm_pT_2212__1->GetXaxis()->GetBinUpEdge(slice_py_of_y_cm_pT_2212__1->GetNbinsX()) );
  std::cout << "{ ";
  for( auto num : new_axis ){
    std::cout << num << ", " ;
  }
  std::cout << "\b\b }" << std::endl;
  return 0;
}